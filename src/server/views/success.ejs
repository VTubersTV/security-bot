<%- include('layout') %>

<div class="max-w-2xl mx-auto">
    <div class="card-base overflow-hidden animate-slide-up">
        <!-- Header -->
        <div class="bg-gradient-to-r from-discord-success to-green-500 px-6 py-4 text-center">
            <h2 class="text-2xl font-bold text-white flex items-center justify-center">
                <i class="bi bi-check-circle-fill mr-2"></i>
                Verification Successful!
            </h2>
        </div>

        <div class="p-6 space-y-8">
            <!-- Success Animation -->
            <div class="relative h-32">
                <svg class="absolute inset-0 m-auto" width="100" height="100" viewBox="0 0 52 52">
                    <circle class="stroke-discord-success animate-[circle_0.6s_ease-in-out]" cx="26" cy="26" r="25" fill="none" stroke-width="2"/>
                    <circle class="stroke-discord-success animate-[stroke_0.6s_cubic-bezier(0.65,0,0.45,1)_forwards]" cx="26" cy="26" r="25" fill="none" stroke-width="2" stroke-dasharray="166" stroke-dashoffset="166"/>
                    <path class="stroke-white animate-[stroke_0.3s_cubic-bezier(0.65,0,0.45,1)_0.6s_forwards]" fill="none" stroke-width="4" stroke-dasharray="48" stroke-dashoffset="48" d="M14.1 27.2l7.1 7.2 16.7-16.8"/>
                </svg>
            </div>

            <!-- Welcome Message -->
            <div class="text-center">
                <h3 class="text-2xl font-bold text-gray-900 dark:text-white mb-4">Welcome to VTubers.TV!</h3>
                <p class="text-lg text-gray-600 dark:text-gray-300">
                    Your account has been successfully verified and you now have full access to our Discord server.
                </p>
            </div>

            <!-- Server Info -->
            <div class="bg-gray-50 dark:bg-discord-dark-200 rounded-xl p-6 text-center transform hover:scale-105 transition-transform">
                <img src="https://cdn.discordapp.com/icons/<%= guild.id %>/<%= guild.icon %>.<%= guild.icon.startsWith('a_') ? 'gif' : 'png' %>" 
                     alt="<%= guild.name %>" 
                     class="w-16 h-16 mx-auto rounded-full shadow-lg mb-4"
                     loading="lazy">
                <h5 class="text-xl font-bold text-gray-900 dark:text-white mb-2"><%= guild.name %></h5>
                <p class="text-gray-600 dark:text-gray-300 flex items-center justify-center">
                    <i class="bi bi-people-fill mr-2"></i>
                    <%= guild.memberCount.toLocaleString() %> members
                </p>
            </div>

            <!-- Return Button -->
            <a href="https://discord.com/channels/<%= guild.id %>" 
               class="btn-primary w-full flex justify-center"
               target="_blank">
                <i class="bi bi-discord mr-2"></i>
                Open Discord
            </a>
        </div>
    </div>
</div>

<style>
@keyframes circle {
    0% { transform: scale(0.8); opacity: 0; }
    100% { transform: scale(1); opacity: 1; }
}

@keyframes stroke {
    100% { stroke-dashoffset: 0; }
}
</style> 